"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/hello/route";
exports.ids = ["app/api/hello/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhello%2Froute&page=%2Fapi%2Fhello%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhello%2Froute.ts&appDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhello%2Froute&page=%2Fapi%2Fhello%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhello%2Froute.ts&appDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ozzyonfire_Development_projects_shopify_shopify_next_app_web_app_api_hello_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/hello/route.ts */ \"(rsc)/./app/api/hello/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/hello/route\",\n        pathname: \"/api/hello\",\n        filename: \"route\",\n        bundlePath: \"app/api/hello/route\"\n    },\n    resolvedPagePath: \"/Users/ozzyonfire/Development/projects/shopify/shopify-next-app/web/app/api/hello/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ozzyonfire_Development_projects_shopify_shopify_next_app_web_app_api_hello_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/hello/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4xLjNfQGJhYmVsK2NvcmVANy4yNi4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRmhlbGxvJTJGcm91dGUmcGFnZT0lMkZhcGklMkZoZWxsbyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhlbGxvJTJGcm91dGUudHMmYXBwRGlyPSUyRlVzZXJzJTJGb3p6eW9uZmlyZSUyRkRldmVsb3BtZW50JTJGcHJvamVjdHMlMkZzaG9waWZ5JTJGc2hvcGlmeS1uZXh0LWFwcCUyRndlYiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZvenp5b25maXJlJTJGRGV2ZWxvcG1lbnQlMkZwcm9qZWN0cyUyRnNob3BpZnklMkZzaG9waWZ5LW5leHQtYXBwJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWFwcC8/YTU1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvb3p6eW9uZmlyZS9EZXZlbG9wbWVudC9wcm9qZWN0cy9zaG9waWZ5L3Nob3BpZnktbmV4dC1hcHAvd2ViL2FwcC9hcGkvaGVsbG8vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2hlbGxvL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvaGVsbG9cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hlbGxvL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL296enlvbmZpcmUvRGV2ZWxvcG1lbnQvcHJvamVjdHMvc2hvcGlmeS9zaG9waWZ5LW5leHQtYXBwL3dlYi9hcHAvYXBpL2hlbGxvL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2hlbGxvL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhello%2Froute&page=%2Fapi%2Fhello%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhello%2Froute.ts&appDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/hello/route.ts":
/*!********************************!*\
  !*** ./app/api/hello/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_shopify_verify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/shopify/verify */ \"(rsc)/./lib/shopify/verify.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/api/server.js\");\n\n\nasync function GET(req) {\n    // session token is located in the request headers\n    const validSession = await (0,_lib_shopify_verify__WEBPACK_IMPORTED_MODULE_0__.verifyRequest)(req, true); // could use middleware for this?\n    console.log(\"validSession\", validSession);\n    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n        status: \"success\",\n        data: {\n            name: \"Luke Skywalker\",\n            height: \"172\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2hlbGxvL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUNWO0FBYXBDLGVBQWVFLElBQUlDLEdBQVk7SUFDcEMsa0RBQWtEO0lBQ2xELE1BQU1DLGVBQWUsTUFBTUosa0VBQWFBLENBQUNHLEtBQUssT0FBTyxpQ0FBaUM7SUFDdEZFLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JGO0lBRTVCLE9BQU9ILHFEQUFZQSxDQUFDTSxJQUFJLENBQW9CO1FBQzFDQyxRQUFRO1FBQ1JDLE1BQU07WUFDSkMsTUFBTTtZQUNOQyxRQUFRO1FBQ1Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWFwcC8uL2FwcC9hcGkvaGVsbG8vcm91dGUudHM/OWU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2ZXJpZnlSZXF1ZXN0IH0gZnJvbSBcIkAvbGliL3Nob3BpZnkvdmVyaWZ5XCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcblxuZXhwb3J0IHR5cGUgQVBJUmVzcG9uc2U8RGF0YVR5cGU+ID0ge1xuICBzdGF0dXM6IFwic3VjY2Vzc1wiIHwgXCJlcnJvclwiO1xuICBkYXRhPzogRGF0YVR5cGU7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59O1xuXG50eXBlIERhdGEgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgaGVpZ2h0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCkge1xuICAvLyBzZXNzaW9uIHRva2VuIGlzIGxvY2F0ZWQgaW4gdGhlIHJlcXVlc3QgaGVhZGVyc1xuICBjb25zdCB2YWxpZFNlc3Npb24gPSBhd2FpdCB2ZXJpZnlSZXF1ZXN0KHJlcSwgdHJ1ZSk7IC8vIGNvdWxkIHVzZSBtaWRkbGV3YXJlIGZvciB0aGlzP1xuICBjb25zb2xlLmxvZyhcInZhbGlkU2Vzc2lvblwiLCB2YWxpZFNlc3Npb24pO1xuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBUElSZXNwb25zZTxEYXRhPj4oe1xuICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgZGF0YToge1xuICAgICAgbmFtZTogXCJMdWtlIFNreXdhbGtlclwiLFxuICAgICAgaGVpZ2h0OiBcIjE3MlwiLFxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbInZlcmlmeVJlcXVlc3QiLCJOZXh0UmVzcG9uc2UiLCJHRVQiLCJyZXEiLCJ2YWxpZFNlc3Npb24iLCJjb25zb2xlIiwibG9nIiwianNvbiIsInN0YXR1cyIsImRhdGEiLCJuYW1lIiwiaGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/hello/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/prisma-connect.ts":
/*!**********************************!*\
  !*** ./lib/db/prisma-connect.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n};\nconst prisma = globalThis.prisma ?? prismaClientSingleton();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\nif (true) globalThis.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvcHJpc21hLWNvbm5lY3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLHdCQUF3QjtJQUM1QixPQUFPLElBQUlELHdEQUFZQTtBQUN6QjtBQU1BLE1BQU1FLFNBQVNDLFdBQVdELE1BQU0sSUFBSUQ7QUFFcEMsaUVBQWVDLE1BQU1BLEVBQUM7QUFFdEIsSUFBSUUsSUFBcUMsRUFBRUQsV0FBV0QsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1hcHAvLi9saWIvZGIvcHJpc21hLWNvbm5lY3QudHM/YzNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcblxuY29uc3QgcHJpc21hQ2xpZW50U2luZ2xldG9uID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByaXNtYUNsaWVudCgpO1xufTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgcHJpc21hOiB1bmRlZmluZWQgfCBSZXR1cm5UeXBlPHR5cGVvZiBwcmlzbWFDbGllbnRTaW5nbGV0b24+O1xufVxuXG5jb25zdCBwcmlzbWEgPSBnbG9iYWxUaGlzLnByaXNtYSA/PyBwcmlzbWFDbGllbnRTaW5nbGV0b24oKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxUaGlzLnByaXNtYSA9IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWFDbGllbnRTaW5nbGV0b24iLCJwcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/prisma-connect.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/session-storage.ts":
/*!***********************************!*\
  !*** ./lib/db/session-storage.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionNotFoundError: () => (/* binding */ SessionNotFoundError),\n/* harmony export */   cleanUpSession: () => (/* binding */ cleanUpSession),\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession),\n/* harmony export */   deleteSessions: () => (/* binding */ deleteSessions),\n/* harmony export */   findSessionsByShop: () => (/* binding */ findSessionsByShop),\n/* harmony export */   loadSession: () => (/* binding */ loadSession),\n/* harmony export */   storeSession: () => (/* binding */ storeSession)\n/* harmony export */ });\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @shopify/shopify-api */ \"(rsc)/./node_modules/.pnpm/@shopify+shopify-api@9.7.2/node_modules/@shopify/shopify-api/lib/index.js\");\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_shopify_shopify_api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_connect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prisma-connect */ \"(rsc)/./lib/db/prisma-connect.ts\");\n\n\nconst apiKey = process.env.SHOPIFY_API_KEY || \"\";\n/**\n * Stores the session in the database\n * This could be usedful if we need to do something with the\n * access token later\n */ async function storeSession(session) {\n    await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.upsert({\n        where: {\n            id: session.id\n        },\n        update: {\n            shop: session.shop,\n            accessToken: session.accessToken,\n            scope: session.scope,\n            expires: session.expires,\n            isOnline: session.isOnline,\n            state: session.state,\n            apiKey\n        },\n        create: {\n            id: session.id,\n            shop: session.shop,\n            accessToken: session.accessToken,\n            scope: session.scope,\n            expires: session.expires,\n            isOnline: session.isOnline,\n            state: session.state,\n            apiKey\n        }\n    });\n    if (session.onlineAccessInfo) {\n        const onlineAccessInfo = await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onlineAccessInfo.upsert({\n            where: {\n                sessionId: session.id\n            },\n            update: {\n                expiresIn: session.onlineAccessInfo.expires_in,\n                associatedUserScope: session.onlineAccessInfo.associated_user_scope\n            },\n            create: {\n                sessionId: session.id,\n                expiresIn: session.onlineAccessInfo.expires_in,\n                associatedUserScope: session.onlineAccessInfo.associated_user_scope\n            }\n        });\n        const { associated_user } = session.onlineAccessInfo;\n        const associatedUser = await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].associatedUser.upsert({\n            where: {\n                onlineAccessInfoId: onlineAccessInfo.id\n            },\n            update: {\n                firstName: associated_user.first_name,\n                lastName: associated_user.last_name,\n                email: associated_user.email,\n                emailVerified: associated_user.email_verified,\n                accountOwner: associated_user.account_owner,\n                locale: associated_user.locale,\n                collaborator: associated_user.collaborator,\n                userId: associated_user.id\n            },\n            create: {\n                onlineAccessInfoId: onlineAccessInfo.id,\n                firstName: associated_user.first_name,\n                lastName: associated_user.last_name,\n                email: associated_user.email,\n                emailVerified: associated_user.email_verified,\n                accountOwner: associated_user.account_owner,\n                locale: associated_user.locale,\n                collaborator: associated_user.collaborator,\n                userId: associated_user.id\n            }\n        });\n    }\n}\nasync function loadSession(id) {\n    const session = await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.findUnique({\n        where: {\n            id\n        }\n    });\n    if (session) {\n        return generateShopifySessionFromDB(session);\n    } else {\n        throw new SessionNotFoundError();\n    }\n}\nasync function deleteSession(id) {\n    await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.delete({\n        where: {\n            id\n        }\n    });\n}\nasync function deleteSessions(ids) {\n    await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.deleteMany({\n        where: {\n            id: {\n                in: ids\n            }\n        }\n    });\n}\nasync function cleanUpSession(shop, accessToken) {\n    await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.deleteMany({\n        where: {\n            shop,\n            accessToken,\n            apiKey\n        }\n    });\n}\nasync function findSessionsByShop(shop) {\n    const sessions = await _prisma_connect__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.findMany({\n        where: {\n            shop,\n            apiKey\n        },\n        include: {\n            onlineAccessInfo: {\n                include: {\n                    associatedUser: true\n                }\n            }\n        }\n    });\n    return sessions.map((session)=>generateShopifySessionFromDB(session));\n}\nfunction generateShopifySessionFromDB(session) {\n    return new _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_0__.Session({\n        id: session.id,\n        shop: session.shop,\n        accessToken: session.accessToken || undefined,\n        scope: session.scope || undefined,\n        state: session.state,\n        isOnline: session.isOnline,\n        expires: session.expires || undefined\n    });\n}\nclass SessionNotFoundError extends Error {\n    constructor(){\n        super(\"Session not found\");\n        this.name = \"SessionNotFoundError\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0Y7QUFFTyxNQUFNYiw2QkFBNkJjO0lBQ3hDQyxhQUFjO1FBQ1osS0FBSyxDQUFDO1FBQ04sSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDZDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLWFwcC8uL2xpYi9kYi9zZXNzaW9uLXN0b3JhZ2UudHM/MTA4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXNzaW9uIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5pbXBvcnQgeyBTZXNzaW9uIGFzIFNob3BpZnlTZXNzaW9uIH0gZnJvbSBcIkBzaG9waWZ5L3Nob3BpZnktYXBpXCI7XG5pbXBvcnQgcHJpc21hIGZyb20gXCIuL3ByaXNtYS1jb25uZWN0XCI7XG5jb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5TSE9QSUZZX0FQSV9LRVkgfHwgXCJcIjtcblxuLyoqXG4gKiBTdG9yZXMgdGhlIHNlc3Npb24gaW4gdGhlIGRhdGFiYXNlXG4gKiBUaGlzIGNvdWxkIGJlIHVzZWRmdWwgaWYgd2UgbmVlZCB0byBkbyBzb21ldGhpbmcgd2l0aCB0aGVcbiAqIGFjY2VzcyB0b2tlbiBsYXRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcmVTZXNzaW9uKHNlc3Npb246IFNob3BpZnlTZXNzaW9uKSB7XG4gIGF3YWl0IHByaXNtYS5zZXNzaW9uLnVwc2VydCh7XG4gICAgd2hlcmU6IHsgaWQ6IHNlc3Npb24uaWQgfSxcbiAgICB1cGRhdGU6IHtcbiAgICAgIHNob3A6IHNlc3Npb24uc2hvcCxcbiAgICAgIGFjY2Vzc1Rva2VuOiBzZXNzaW9uLmFjY2Vzc1Rva2VuLFxuICAgICAgc2NvcGU6IHNlc3Npb24uc2NvcGUsXG4gICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICBpc09ubGluZTogc2Vzc2lvbi5pc09ubGluZSxcbiAgICAgIHN0YXRlOiBzZXNzaW9uLnN0YXRlLFxuICAgICAgYXBpS2V5LFxuICAgIH0sXG4gICAgY3JlYXRlOiB7XG4gICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgIHNob3A6IHNlc3Npb24uc2hvcCxcbiAgICAgIGFjY2Vzc1Rva2VuOiBzZXNzaW9uLmFjY2Vzc1Rva2VuLFxuICAgICAgc2NvcGU6IHNlc3Npb24uc2NvcGUsXG4gICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICBpc09ubGluZTogc2Vzc2lvbi5pc09ubGluZSxcbiAgICAgIHN0YXRlOiBzZXNzaW9uLnN0YXRlLFxuICAgICAgYXBpS2V5LFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmIChzZXNzaW9uLm9ubGluZUFjY2Vzc0luZm8pIHtcbiAgICBjb25zdCBvbmxpbmVBY2Nlc3NJbmZvID0gYXdhaXQgcHJpc21hLm9ubGluZUFjY2Vzc0luZm8udXBzZXJ0KHtcbiAgICAgIHdoZXJlOiB7IHNlc3Npb25JZDogc2Vzc2lvbi5pZCB9LFxuICAgICAgdXBkYXRlOiB7XG4gICAgICAgIGV4cGlyZXNJbjogc2Vzc2lvbi5vbmxpbmVBY2Nlc3NJbmZvLmV4cGlyZXNfaW4sXG4gICAgICAgIGFzc29jaWF0ZWRVc2VyU2NvcGU6IHNlc3Npb24ub25saW5lQWNjZXNzSW5mby5hc3NvY2lhdGVkX3VzZXJfc2NvcGUsXG4gICAgICB9LFxuICAgICAgY3JlYXRlOiB7XG4gICAgICAgIHNlc3Npb25JZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgZXhwaXJlc0luOiBzZXNzaW9uLm9ubGluZUFjY2Vzc0luZm8uZXhwaXJlc19pbixcbiAgICAgICAgYXNzb2NpYXRlZFVzZXJTY29wZTogc2Vzc2lvbi5vbmxpbmVBY2Nlc3NJbmZvLmFzc29jaWF0ZWRfdXNlcl9zY29wZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGFzc29jaWF0ZWRfdXNlciB9ID0gc2Vzc2lvbi5vbmxpbmVBY2Nlc3NJbmZvO1xuICAgIGNvbnN0IGFzc29jaWF0ZWRVc2VyID0gYXdhaXQgcHJpc21hLmFzc29jaWF0ZWRVc2VyLnVwc2VydCh7XG4gICAgICB3aGVyZTogeyBvbmxpbmVBY2Nlc3NJbmZvSWQ6IG9ubGluZUFjY2Vzc0luZm8uaWQgfSxcbiAgICAgIHVwZGF0ZToge1xuICAgICAgICBmaXJzdE5hbWU6IGFzc29jaWF0ZWRfdXNlci5maXJzdF9uYW1lLFxuICAgICAgICBsYXN0TmFtZTogYXNzb2NpYXRlZF91c2VyLmxhc3RfbmFtZSxcbiAgICAgICAgZW1haWw6IGFzc29jaWF0ZWRfdXNlci5lbWFpbCxcbiAgICAgICAgZW1haWxWZXJpZmllZDogYXNzb2NpYXRlZF91c2VyLmVtYWlsX3ZlcmlmaWVkLFxuICAgICAgICBhY2NvdW50T3duZXI6IGFzc29jaWF0ZWRfdXNlci5hY2NvdW50X293bmVyLFxuICAgICAgICBsb2NhbGU6IGFzc29jaWF0ZWRfdXNlci5sb2NhbGUsXG4gICAgICAgIGNvbGxhYm9yYXRvcjogYXNzb2NpYXRlZF91c2VyLmNvbGxhYm9yYXRvcixcbiAgICAgICAgdXNlcklkOiBhc3NvY2lhdGVkX3VzZXIuaWQsXG4gICAgICB9LFxuICAgICAgY3JlYXRlOiB7XG4gICAgICAgIG9ubGluZUFjY2Vzc0luZm9JZDogb25saW5lQWNjZXNzSW5mby5pZCxcbiAgICAgICAgZmlyc3ROYW1lOiBhc3NvY2lhdGVkX3VzZXIuZmlyc3RfbmFtZSxcbiAgICAgICAgbGFzdE5hbWU6IGFzc29jaWF0ZWRfdXNlci5sYXN0X25hbWUsXG4gICAgICAgIGVtYWlsOiBhc3NvY2lhdGVkX3VzZXIuZW1haWwsXG4gICAgICAgIGVtYWlsVmVyaWZpZWQ6IGFzc29jaWF0ZWRfdXNlci5lbWFpbF92ZXJpZmllZCxcbiAgICAgICAgYWNjb3VudE93bmVyOiBhc3NvY2lhdGVkX3VzZXIuYWNjb3VudF9vd25lcixcbiAgICAgICAgbG9jYWxlOiBhc3NvY2lhdGVkX3VzZXIubG9jYWxlLFxuICAgICAgICBjb2xsYWJvcmF0b3I6IGFzc29jaWF0ZWRfdXNlci5jb2xsYWJvcmF0b3IsXG4gICAgICAgIHVzZXJJZDogYXNzb2NpYXRlZF91c2VyLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZFNlc3Npb24oaWQ6IHN0cmluZykge1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgcHJpc21hLnNlc3Npb24uZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHsgaWQgfSxcbiAgfSk7XG5cbiAgaWYgKHNlc3Npb24pIHtcbiAgICByZXR1cm4gZ2VuZXJhdGVTaG9waWZ5U2Vzc2lvbkZyb21EQihzZXNzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgU2Vzc2lvbk5vdEZvdW5kRXJyb3IoKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2Vzc2lvbihpZDogc3RyaW5nKSB7XG4gIGF3YWl0IHByaXNtYS5zZXNzaW9uLmRlbGV0ZSh7XG4gICAgd2hlcmU6IHsgaWQgfSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZXNzaW9ucyhpZHM6IHN0cmluZ1tdKSB7XG4gIGF3YWl0IHByaXNtYS5zZXNzaW9uLmRlbGV0ZU1hbnkoe1xuICAgIHdoZXJlOiB7IGlkOiB7IGluOiBpZHMgfSB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFuVXBTZXNzaW9uKHNob3A6IHN0cmluZywgYWNjZXNzVG9rZW46IHN0cmluZykge1xuICBhd2FpdCBwcmlzbWEuc2Vzc2lvbi5kZWxldGVNYW55KHtcbiAgICB3aGVyZTogeyBzaG9wLCBhY2Nlc3NUb2tlbiwgYXBpS2V5IH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFNlc3Npb25zQnlTaG9wKHNob3A6IHN0cmluZykge1xuICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHByaXNtYS5zZXNzaW9uLmZpbmRNYW55KHtcbiAgICB3aGVyZTogeyBzaG9wLCBhcGlLZXkgfSxcbiAgICBpbmNsdWRlOiB7XG4gICAgICBvbmxpbmVBY2Nlc3NJbmZvOiB7XG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBhc3NvY2lhdGVkVXNlcjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIHNlc3Npb25zLm1hcCgoc2Vzc2lvbikgPT4gZ2VuZXJhdGVTaG9waWZ5U2Vzc2lvbkZyb21EQihzZXNzaW9uKSk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2hvcGlmeVNlc3Npb25Gcm9tREIoc2Vzc2lvbjogU2Vzc2lvbikge1xuICByZXR1cm4gbmV3IFNob3BpZnlTZXNzaW9uKHtcbiAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICBzaG9wOiBzZXNzaW9uLnNob3AsXG4gICAgYWNjZXNzVG9rZW46IHNlc3Npb24uYWNjZXNzVG9rZW4gfHwgdW5kZWZpbmVkLFxuICAgIHNjb3BlOiBzZXNzaW9uLnNjb3BlIHx8IHVuZGVmaW5lZCxcbiAgICBzdGF0ZTogc2Vzc2lvbi5zdGF0ZSxcbiAgICBpc09ubGluZTogc2Vzc2lvbi5pc09ubGluZSxcbiAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMgfHwgdW5kZWZpbmVkLFxuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIFNlc3Npb25Ob3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIlNlc3Npb24gbm90IGZvdW5kXCIpO1xuICAgIHRoaXMubmFtZSA9IFwiU2Vzc2lvbk5vdEZvdW5kRXJyb3JcIjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlNlc3Npb24iLCJTaG9waWZ5U2Vzc2lvbiIsInByaXNtYSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJTSE9QSUZZX0FQSV9LRVkiLCJzdG9yZVNlc3Npb24iLCJzZXNzaW9uIiwidXBzZXJ0Iiwid2hlcmUiLCJpZCIsInVwZGF0ZSIsInNob3AiLCJhY2Nlc3NUb2tlbiIsInNjb3BlIiwiZXhwaXJlcyIsImlzT25saW5lIiwic3RhdGUiLCJjcmVhdGUiLCJvbmxpbmVBY2Nlc3NJbmZvIiwic2Vzc2lvbklkIiwiZXhwaXJlc0luIiwiZXhwaXJlc19pbiIsImFzc29jaWF0ZWRVc2VyU2NvcGUiLCJhc3NvY2lhdGVkX3VzZXJfc2NvcGUiLCJhc3NvY2lhdGVkX3VzZXIiLCJhc3NvY2lhdGVkVXNlciIsIm9ubGluZUFjY2Vzc0luZm9JZCIsImZpcnN0TmFtZSIsImZpcnN0X25hbWUiLCJsYXN0TmFtZSIsImxhc3RfbmFtZSIsImVtYWlsIiwiZW1haWxWZXJpZmllZCIsImVtYWlsX3ZlcmlmaWVkIiwiYWNjb3VudE93bmVyIiwiYWNjb3VudF9vd25lciIsImxvY2FsZSIsImNvbGxhYm9yYXRvciIsInVzZXJJZCIsImxvYWRTZXNzaW9uIiwiZmluZFVuaXF1ZSIsImdlbmVyYXRlU2hvcGlmeVNlc3Npb25Gcm9tREIiLCJTZXNzaW9uTm90Rm91bmRFcnJvciIsImRlbGV0ZVNlc3Npb24iLCJkZWxldGUiLCJkZWxldGVTZXNzaW9ucyIsImlkcyIsImRlbGV0ZU1hbnkiLCJpbiIsImNsZWFuVXBTZXNzaW9uIiwiZmluZFNlc3Npb25zQnlTaG9wIiwic2Vzc2lvbnMiLCJmaW5kTWFueSIsImluY2x1ZGUiLCJtYXAiLCJ1bmRlZmluZWQiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/session-storage.ts\n");

/***/ }),

/***/ "(rsc)/./lib/shopify/initialize-context.ts":
/*!*******************************************!*\
  !*** ./lib/shopify/initialize-context.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _shopify_shopify_api_adapters_web_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @shopify/shopify-api/adapters/web-api */ \"(rsc)/./node_modules/.pnpm/@shopify+shopify-api@9.7.2/node_modules/@shopify/shopify-api/adapters/web-api/index.js\");\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shopify/shopify-api */ \"(rsc)/./node_modules/.pnpm/@shopify+shopify-api@9.7.2/node_modules/@shopify/shopify-api/lib/index.js\");\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst shopify = (0,_shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1__.shopifyApi)({\n    apiKey: process.env.SHOPIFY_API_KEY || \"\",\n    apiSecretKey: process.env.SHOPIFY_API_SECRET || \"\",\n    scopes: process.env.SCOPES?.split(\",\") || [\n        \"write_products\"\n    ],\n    hostName: process.env.HOST?.replace(/https?:\\/\\//, \"\") || \"\",\n    hostScheme: \"https\",\n    isEmbeddedApp: true,\n    apiVersion: _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1__.LATEST_API_VERSION,\n    logger: {\n        level:  true ? _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_1__.LogSeverity.Debug : 0\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (shopify);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2hvcGlmeS9pbml0aWFsaXplLWNvbnRleHQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQztBQUtqQjtBQUU5QixNQUFNRyxVQUFVSCxnRUFBVUEsQ0FBQztJQUN6QkksUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlLElBQUk7SUFDdkNDLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0csa0JBQWtCLElBQUk7SUFDaERDLFFBQVFMLFFBQVFDLEdBQUcsQ0FBQ0ssTUFBTSxFQUFFQyxNQUFNLFFBQVE7UUFBQztLQUFpQjtJQUM1REMsVUFBVVIsUUFBUUMsR0FBRyxDQUFDUSxJQUFJLEVBQUVDLFFBQVEsZUFBZSxPQUFPO0lBQzFEQyxZQUFZO0lBQ1pDLGVBQWU7SUFDZkMsWUFBWWpCLG9FQUFrQkE7SUFDOUJrQixRQUFRO1FBQ05DLE9BQ0VmLEtBQXNDLEdBQ2xDSCw2REFBV0EsQ0FBQ21CLEtBQUssR0FDakJuQixDQUFpQjtJQUN6QjtBQUNGO0FBRUEsaUVBQWVDLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWItYXBwLy4vbGliL3Nob3BpZnkvaW5pdGlhbGl6ZS1jb250ZXh0LnRzP2Q5MjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiQHNob3BpZnkvc2hvcGlmeS1hcGkvYWRhcHRlcnMvd2ViLWFwaVwiO1xuaW1wb3J0IHtcbiAgc2hvcGlmeUFwaSxcbiAgTEFURVNUX0FQSV9WRVJTSU9OLFxuICBMb2dTZXZlcml0eSxcbn0gZnJvbSBcIkBzaG9waWZ5L3Nob3BpZnktYXBpXCI7XG5cbmNvbnN0IHNob3BpZnkgPSBzaG9waWZ5QXBpKHtcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5TSE9QSUZZX0FQSV9LRVkgfHwgXCJcIixcbiAgYXBpU2VjcmV0S2V5OiBwcm9jZXNzLmVudi5TSE9QSUZZX0FQSV9TRUNSRVQgfHwgXCJcIixcbiAgc2NvcGVzOiBwcm9jZXNzLmVudi5TQ09QRVM/LnNwbGl0KFwiLFwiKSB8fCBbXCJ3cml0ZV9wcm9kdWN0c1wiXSxcbiAgaG9zdE5hbWU6IHByb2Nlc3MuZW52LkhPU1Q/LnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vLCBcIlwiKSB8fCBcIlwiLFxuICBob3N0U2NoZW1lOiBcImh0dHBzXCIsXG4gIGlzRW1iZWRkZWRBcHA6IHRydWUsXG4gIGFwaVZlcnNpb246IExBVEVTVF9BUElfVkVSU0lPTixcbiAgbG9nZ2VyOiB7XG4gICAgbGV2ZWw6XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiXG4gICAgICAgID8gTG9nU2V2ZXJpdHkuRGVidWdcbiAgICAgICAgOiBMb2dTZXZlcml0eS5FcnJvcixcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBzaG9waWZ5O1xuIl0sIm5hbWVzIjpbInNob3BpZnlBcGkiLCJMQVRFU1RfQVBJX1ZFUlNJT04iLCJMb2dTZXZlcml0eSIsInNob3BpZnkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiU0hPUElGWV9BUElfS0VZIiwiYXBpU2VjcmV0S2V5IiwiU0hPUElGWV9BUElfU0VDUkVUIiwic2NvcGVzIiwiU0NPUEVTIiwic3BsaXQiLCJob3N0TmFtZSIsIkhPU1QiLCJyZXBsYWNlIiwiaG9zdFNjaGVtZSIsImlzRW1iZWRkZWRBcHAiLCJhcGlWZXJzaW9uIiwibG9nZ2VyIiwibGV2ZWwiLCJEZWJ1ZyIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/shopify/initialize-context.ts\n");

/***/ }),

/***/ "(rsc)/./lib/shopify/verify.ts":
/*!*******************************!*\
  !*** ./lib/shopify/verify.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppNotInstalledError: () => (/* binding */ AppNotInstalledError),\n/* harmony export */   ExpiredTokenError: () => (/* binding */ ExpiredTokenError),\n/* harmony export */   ScopeMismatchError: () => (/* binding */ ScopeMismatchError),\n/* harmony export */   SessionNotFoundError: () => (/* binding */ SessionNotFoundError),\n/* harmony export */   handleSessionToken: () => (/* binding */ handleSessionToken),\n/* harmony export */   tokenExchange: () => (/* binding */ tokenExchange),\n/* harmony export */   verifyRequest: () => (/* binding */ verifyRequest)\n/* harmony export */ });\n/* harmony import */ var _lib_db_session_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db/session-storage */ \"(rsc)/./lib/db/session-storage.ts\");\n/* harmony import */ var _lib_shopify_initialize_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/shopify/initialize-context */ \"(rsc)/./lib/shopify/initialize-context.ts\");\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @shopify/shopify-api */ \"(rsc)/./node_modules/.pnpm/@shopify+shopify-api@9.7.2/node_modules/@shopify/shopify-api/lib/index.js\");\n/* harmony import */ var _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_shopify_shopify_api__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nclass AppNotInstalledError extends Error {\n    constructor(){\n        super(\"App not installed\");\n        this.name = \"AppNotInstalledError\";\n    }\n}\nclass SessionNotFoundError extends Error {\n    constructor(isOnline){\n        super(\"Session not found\");\n        this.name = \"SessionNotFoundError\";\n        this.isOnline = isOnline;\n    }\n}\nclass ScopeMismatchError extends Error {\n    constructor(isOnline, accountOwner){\n        super(\"Scope mismatch\");\n        this.name = \"ScopeMismatchError\";\n        this.isOnline = isOnline;\n        this.accountOwner = accountOwner;\n    }\n}\nclass ExpiredTokenError extends Error {\n    constructor(isOnline){\n        super(`Token expired - ${isOnline ? \"online\" : \"offline\"}`);\n        this.name = \"ExpiredTokenError\";\n        this.isOnline = isOnline;\n    }\n}\nasync function verifyRequest(req, isOnline) {\n    const bearerPresent = req.headers.get(\"authorization\")?.startsWith(\"Bearer \");\n    const sessionToken = req.headers.get(\"authorization\")?.replace(\"Bearer \", \"\");\n    if (!bearerPresent || !sessionToken) {\n        throw new Error(\"No bearer or session token present\");\n    }\n    return handleSessionToken(sessionToken, isOnline);\n}\n/**\n * Do the token exchange from the sessionIdToken that comes from the client\n * This returns a valid session object.\n * Optionally store the session in the database. Sometimes, if you are focused on speed,\n * you don't want to always store the session in the database.\n */ async function tokenExchange({ shop, sessionToken, online, store }) {\n    const response = await _lib_shopify_initialize_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"].auth.tokenExchange({\n        shop,\n        sessionToken,\n        requestedTokenType: online ? _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_2__.RequestedTokenType.OnlineAccessToken : _shopify_shopify_api__WEBPACK_IMPORTED_MODULE_2__.RequestedTokenType.OfflineAccessToken\n    });\n    const { session } = response;\n    if (store) {\n        await (0,_lib_db_session_storage__WEBPACK_IMPORTED_MODULE_0__.storeSession)(session);\n    }\n    return session;\n}\n/**\n * @description Do all the necessary steps, to validate the session token and refresh it if it needs to.\n * @param sessionToken The session token from the request headers or directly sent by the client\n * @param online\n * @returns The session object\n */ async function handleSessionToken(sessionToken, online, store) {\n    const payload = await _lib_shopify_initialize_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"].session.decodeSessionToken(sessionToken);\n    const shop = payload.dest.replace(\"https://\", \"\");\n    const session = await tokenExchange({\n        shop,\n        sessionToken,\n        online,\n        store\n    });\n    return {\n        shop,\n        session\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2hvcGlmeS92ZXJpZnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDRDtBQUNZO0FBRTVELE1BQU1HLDZCQUE2QkM7SUFDeENDLGFBQWM7UUFDWixLQUFLLENBQUM7UUFDTixJQUFJLENBQUNDLElBQUksR0FBRztJQUNkO0FBQ0Y7QUFFTyxNQUFNQyw2QkFBNkJIO0lBRXhDQyxZQUFZRyxRQUFpQixDQUFFO1FBQzdCLEtBQUssQ0FBQztRQUNOLElBQUksQ0FBQ0YsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDRSxRQUFRLEdBQUdBO0lBQ2xCO0FBQ0Y7QUFFTyxNQUFNQywyQkFBMkJMO0lBR3RDQyxZQUFZRyxRQUFpQixFQUFFRSxZQUFxQixDQUFFO1FBQ3BELEtBQUssQ0FBQztRQUNOLElBQUksQ0FBQ0osSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDRSxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0UsWUFBWSxHQUFHQTtJQUN0QjtBQUNGO0FBRU8sTUFBTUMsMEJBQTBCUDtJQUVyQ0MsWUFBWUcsUUFBaUIsQ0FBRTtRQUM3QixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRUEsV0FBVyxXQUFXLFVBQVUsQ0FBQztRQUMxRCxJQUFJLENBQUNGLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ0UsUUFBUSxHQUFHQTtJQUNsQjtBQUNGO0FBRU8sZUFBZUksY0FDcEJDLEdBQVksRUFDWkwsUUFBaUI7SUFFakIsTUFBTU0sZ0JBQWdCRCxJQUFJRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0JDLFdBQVc7SUFDbkUsTUFBTUMsZUFBZUwsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCRyxRQUFRLFdBQVc7SUFDMUUsSUFBSSxDQUFDTCxpQkFBaUIsQ0FBQ0ksY0FBYztRQUNuQyxNQUFNLElBQUlkLE1BQU07SUFDbEI7SUFDQSxPQUFPZ0IsbUJBQW1CRixjQUFjVjtBQUMxQztBQUVBOzs7OztDQUtDLEdBQ00sZUFBZWEsY0FBYyxFQUNsQ0MsSUFBSSxFQUNKSixZQUFZLEVBQ1pLLE1BQU0sRUFDTkMsS0FBSyxFQU1OO0lBQ0MsTUFBTUMsV0FBVyxNQUFNeEIsdUVBQU9BLENBQUN5QixJQUFJLENBQUNMLGFBQWEsQ0FBQztRQUNoREM7UUFDQUo7UUFDQVMsb0JBQW9CSixTQUNoQnJCLG9FQUFrQkEsQ0FBQzBCLGlCQUFpQixHQUNwQzFCLG9FQUFrQkEsQ0FBQzJCLGtCQUFrQjtJQUMzQztJQUNBLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdMO0lBQ3BCLElBQUlELE9BQU87UUFDVCxNQUFNeEIscUVBQVlBLENBQUM4QjtJQUNyQjtJQUNBLE9BQU9BO0FBQ1Q7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVWLG1CQUNwQkYsWUFBb0IsRUFDcEJLLE1BQWdCLEVBQ2hCQyxLQUFlO0lBRWYsTUFBTU8sVUFBVSxNQUFNOUIsdUVBQU9BLENBQUM2QixPQUFPLENBQUNFLGtCQUFrQixDQUFDZDtJQUN6RCxNQUFNSSxPQUFPUyxRQUFRRSxJQUFJLENBQUNkLE9BQU8sQ0FBQyxZQUFZO0lBQzlDLE1BQU1XLFVBQVUsTUFBTVQsY0FBYztRQUFFQztRQUFNSjtRQUFjSztRQUFRQztJQUFNO0lBQ3hFLE9BQU87UUFBRUY7UUFBTVE7SUFBUTtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi1hcHAvLi9saWIvc2hvcGlmeS92ZXJpZnkudHM/NmY0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdG9yZVNlc3Npb24gfSBmcm9tIFwiQC9saWIvZGIvc2Vzc2lvbi1zdG9yYWdlXCI7XG5pbXBvcnQgc2hvcGlmeSBmcm9tIFwiQC9saWIvc2hvcGlmeS9pbml0aWFsaXplLWNvbnRleHRcIjtcbmltcG9ydCB7IFJlcXVlc3RlZFRva2VuVHlwZSwgU2Vzc2lvbiB9IGZyb20gXCJAc2hvcGlmeS9zaG9waWZ5LWFwaVwiO1xuXG5leHBvcnQgY2xhc3MgQXBwTm90SW5zdGFsbGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiQXBwIG5vdCBpbnN0YWxsZWRcIik7XG4gICAgdGhpcy5uYW1lID0gXCJBcHBOb3RJbnN0YWxsZWRFcnJvclwiO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXNzaW9uTm90Rm91bmRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgaXNPbmxpbmU6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGlzT25saW5lOiBib29sZWFuKSB7XG4gICAgc3VwZXIoXCJTZXNzaW9uIG5vdCBmb3VuZFwiKTtcbiAgICB0aGlzLm5hbWUgPSBcIlNlc3Npb25Ob3RGb3VuZEVycm9yXCI7XG4gICAgdGhpcy5pc09ubGluZSA9IGlzT25saW5lO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTY29wZU1pc21hdGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGlzT25saW5lOiBib29sZWFuO1xuICBhY2NvdW50T3duZXI6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGlzT25saW5lOiBib29sZWFuLCBhY2NvdW50T3duZXI6IGJvb2xlYW4pIHtcbiAgICBzdXBlcihcIlNjb3BlIG1pc21hdGNoXCIpO1xuICAgIHRoaXMubmFtZSA9IFwiU2NvcGVNaXNtYXRjaEVycm9yXCI7XG4gICAgdGhpcy5pc09ubGluZSA9IGlzT25saW5lO1xuICAgIHRoaXMuYWNjb3VudE93bmVyID0gYWNjb3VudE93bmVyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFeHBpcmVkVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgaXNPbmxpbmU6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGlzT25saW5lOiBib29sZWFuKSB7XG4gICAgc3VwZXIoYFRva2VuIGV4cGlyZWQgLSAke2lzT25saW5lID8gXCJvbmxpbmVcIiA6IFwib2ZmbGluZVwifWApO1xuICAgIHRoaXMubmFtZSA9IFwiRXhwaXJlZFRva2VuRXJyb3JcIjtcbiAgICB0aGlzLmlzT25saW5lID0gaXNPbmxpbmU7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVJlcXVlc3QoXG4gIHJlcTogUmVxdWVzdCxcbiAgaXNPbmxpbmU6IGJvb2xlYW4sXG4pOiBQcm9taXNlPHsgc2hvcDogc3RyaW5nOyBzZXNzaW9uOiBTZXNzaW9uIH0+IHtcbiAgY29uc3QgYmVhcmVyUHJlc2VudCA9IHJlcS5oZWFkZXJzLmdldChcImF1dGhvcml6YXRpb25cIik/LnN0YXJ0c1dpdGgoXCJCZWFyZXIgXCIpO1xuICBjb25zdCBzZXNzaW9uVG9rZW4gPSByZXEuaGVhZGVycy5nZXQoXCJhdXRob3JpemF0aW9uXCIpPy5yZXBsYWNlKFwiQmVhcmVyIFwiLCBcIlwiKTtcbiAgaWYgKCFiZWFyZXJQcmVzZW50IHx8ICFzZXNzaW9uVG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBiZWFyZXIgb3Igc2Vzc2lvbiB0b2tlbiBwcmVzZW50XCIpO1xuICB9XG4gIHJldHVybiBoYW5kbGVTZXNzaW9uVG9rZW4oc2Vzc2lvblRva2VuLCBpc09ubGluZSk7XG59XG5cbi8qKlxuICogRG8gdGhlIHRva2VuIGV4Y2hhbmdlIGZyb20gdGhlIHNlc3Npb25JZFRva2VuIHRoYXQgY29tZXMgZnJvbSB0aGUgY2xpZW50XG4gKiBUaGlzIHJldHVybnMgYSB2YWxpZCBzZXNzaW9uIG9iamVjdC5cbiAqIE9wdGlvbmFsbHkgc3RvcmUgdGhlIHNlc3Npb24gaW4gdGhlIGRhdGFiYXNlLiBTb21ldGltZXMsIGlmIHlvdSBhcmUgZm9jdXNlZCBvbiBzcGVlZCxcbiAqIHlvdSBkb24ndCB3YW50IHRvIGFsd2F5cyBzdG9yZSB0aGUgc2Vzc2lvbiBpbiB0aGUgZGF0YWJhc2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b2tlbkV4Y2hhbmdlKHtcbiAgc2hvcCxcbiAgc2Vzc2lvblRva2VuLFxuICBvbmxpbmUsXG4gIHN0b3JlLFxufToge1xuICBzaG9wOiBzdHJpbmc7XG4gIHNlc3Npb25Ub2tlbjogc3RyaW5nO1xuICBvbmxpbmU/OiBib29sZWFuO1xuICBzdG9yZT86IGJvb2xlYW47XG59KTogUHJvbWlzZTxTZXNzaW9uPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2hvcGlmeS5hdXRoLnRva2VuRXhjaGFuZ2Uoe1xuICAgIHNob3AsXG4gICAgc2Vzc2lvblRva2VuLFxuICAgIHJlcXVlc3RlZFRva2VuVHlwZTogb25saW5lXG4gICAgICA/IFJlcXVlc3RlZFRva2VuVHlwZS5PbmxpbmVBY2Nlc3NUb2tlblxuICAgICAgOiBSZXF1ZXN0ZWRUb2tlblR5cGUuT2ZmbGluZUFjY2Vzc1Rva2VuLFxuICB9KTtcbiAgY29uc3QgeyBzZXNzaW9uIH0gPSByZXNwb25zZTtcbiAgaWYgKHN0b3JlKSB7XG4gICAgYXdhaXQgc3RvcmVTZXNzaW9uKHNlc3Npb24pO1xuICB9XG4gIHJldHVybiBzZXNzaW9uO1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBEbyBhbGwgdGhlIG5lY2Vzc2FyeSBzdGVwcywgdG8gdmFsaWRhdGUgdGhlIHNlc3Npb24gdG9rZW4gYW5kIHJlZnJlc2ggaXQgaWYgaXQgbmVlZHMgdG8uXG4gKiBAcGFyYW0gc2Vzc2lvblRva2VuIFRoZSBzZXNzaW9uIHRva2VuIGZyb20gdGhlIHJlcXVlc3QgaGVhZGVycyBvciBkaXJlY3RseSBzZW50IGJ5IHRoZSBjbGllbnRcbiAqIEBwYXJhbSBvbmxpbmVcbiAqIEByZXR1cm5zIFRoZSBzZXNzaW9uIG9iamVjdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2Vzc2lvblRva2VuKFxuICBzZXNzaW9uVG9rZW46IHN0cmluZyxcbiAgb25saW5lPzogYm9vbGVhbixcbiAgc3RvcmU/OiBib29sZWFuLFxuKTogUHJvbWlzZTx7IHNob3A6IHN0cmluZzsgc2Vzc2lvbjogU2Vzc2lvbiB9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBzaG9waWZ5LnNlc3Npb24uZGVjb2RlU2Vzc2lvblRva2VuKHNlc3Npb25Ub2tlbik7XG4gIGNvbnN0IHNob3AgPSBwYXlsb2FkLmRlc3QucmVwbGFjZShcImh0dHBzOi8vXCIsIFwiXCIpO1xuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdG9rZW5FeGNoYW5nZSh7IHNob3AsIHNlc3Npb25Ub2tlbiwgb25saW5lLCBzdG9yZSB9KTtcbiAgcmV0dXJuIHsgc2hvcCwgc2Vzc2lvbiB9O1xufVxuIl0sIm5hbWVzIjpbInN0b3JlU2Vzc2lvbiIsInNob3BpZnkiLCJSZXF1ZXN0ZWRUb2tlblR5cGUiLCJBcHBOb3RJbnN0YWxsZWRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiU2Vzc2lvbk5vdEZvdW5kRXJyb3IiLCJpc09ubGluZSIsIlNjb3BlTWlzbWF0Y2hFcnJvciIsImFjY291bnRPd25lciIsIkV4cGlyZWRUb2tlbkVycm9yIiwidmVyaWZ5UmVxdWVzdCIsInJlcSIsImJlYXJlclByZXNlbnQiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsInNlc3Npb25Ub2tlbiIsInJlcGxhY2UiLCJoYW5kbGVTZXNzaW9uVG9rZW4iLCJ0b2tlbkV4Y2hhbmdlIiwic2hvcCIsIm9ubGluZSIsInN0b3JlIiwicmVzcG9uc2UiLCJhdXRoIiwicmVxdWVzdGVkVG9rZW5UeXBlIiwiT25saW5lQWNjZXNzVG9rZW4iLCJPZmZsaW5lQWNjZXNzVG9rZW4iLCJzZXNzaW9uIiwicGF5bG9hZCIsImRlY29kZVNlc3Npb25Ub2tlbiIsImRlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/shopify/verify.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1","vendor-chunks/@shopify+shopify-api@9.7.2","vendor-chunks/jose@5.9.6","vendor-chunks/@shopify+graphql-client@0.10.4","vendor-chunks/tslib@2.8.1","vendor-chunks/@shopify+network@3.3.0","vendor-chunks/uuid@9.0.1","vendor-chunks/@shopify+admin-api-client@0.2.9","vendor-chunks/compare-versions@6.1.1","vendor-chunks/isbot@5.1.19","vendor-chunks/@shopify+storefront-api-client@0.3.4"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.1.3_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhello%2Froute&page=%2Fapi%2Fhello%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhello%2Froute.ts&appDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fozzyonfire%2FDevelopment%2Fprojects%2Fshopify%2Fshopify-next-app%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();